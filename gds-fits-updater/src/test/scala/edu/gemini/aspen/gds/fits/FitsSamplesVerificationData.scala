package edu.gemini.aspen.gds.fits

import java.io.File
import com.google.common.hash.Hashing
import edu.gemini.aspen.gds.api.fits.Header
import com.google.common.io.Files

/**
 * Data about FITS samples used for testing */
trait FitsSamplesVerificationData {
  /** Calculates the md5 hash of the data section of a header */
  def hashDataSection(file:File, header:Header):String = {
    val hash = Hashing.md5()
    val bytes = Files.toByteArray(file)
    hash.hashBytes(bytes, (header.fileOffset + header.size).toInt, header.dataSize.toInt).toString
  }

  // MD5 Hashes of data sections
  val sample1PDUHash = "d97f321b7269c00b0df45ee76f66af5e"
  val sampleExtPDUHash = "6298466f8c7866ff273a802e5e97fb2e"
  val sampleExtExt1Hash = "6f15612934bb35acf82053b2ca197b62"
  val gpiNoExtSamplePDUHash = "0bd2d4d256f9310af39dc042d9e22652"
  val gpiExtSamplePDUHash = "1454fec13f03d5b12873687a413c4e9c"
  val gpiExtSampleExt1 = "d4d7f461bdae4421747ae360530287fa"

  // Keywords of different sections
  val keysSample1PDU = List("SIMPLE",
    "BITPIX",
    "NAXIS",
    "NAXIS1",
    "NAXIS2",
    "EXTEND",
    "ORIGIN",
    "DATE",
    "IRAF-TLM",
    "OBJECT",
    "CRVAL1",
    "CRVAL2",
    "CRPIX1",
    "CRPIX2",
    "CD1_1",
    "CD1_2",
    "CD2_1",
    "CD2_2",
    "MIR_REVR",
    "ORIENTAT",
    "FILLCNT",
    "ERRCNT",
    "FPKTTIME",
    "LPKTTIME",
    "CTYPE1",
    "CTYPE2",
    "DETECTOR",
    "DEZERO",
    "BIASEVEN",
    "BIASODD",
    "GOODMIN",
    "GOODMAX",
    "DATAMEAN",
    "GPIXELS",
    "SOFTERRS",
    "CALIBDEF",
    "STATICD",
    "ATODSAT",
    "DATALOST",
    "BADPIXEL",
    "OVERLAP",
    "PHOTMODE",
    "PHOTFLAM",
    "PHOTZPT",
    "PHOTPLAM",
    "PHOTBW",
    "MEDIAN",
    "MEDSHADO",
    "SKEWNESS",
    "MEANC10",
    "MEANC25",
    "MEANC50",
    "MEANC100",
    "MEANC200",
    "MEANC300",
    "BACKGRND",
    "FILETYPE",
    "TELESCOP",
    "INSTRUME",
    "EQUINOX",
    "ROOTNAME",
    "PROCTIME",
    "OPUS_VER",
    "CAL_VER",
    "MODE",
    "SERIALS",
    "IMAGETYP",
    "CDBSFILE",
    "PKTFMT",
    "FILTNAM1",
    "FILTNAM2",
    "FILTER1",
    "FILTER2",
    "FILTROT",
    "LRFWAVE",
    "UCH1CJTM",
    "UCH2CJTM",
    "UCH3CJTM",
    "UCH4CJTM",
    "UBAY3TMP",
    "KSPOTS",
    "SHUTTER",
    "ATODGAIN",
    "MASKCORR",
    "ATODCORR",
    "BLEVCORR",
    "BIASCORR",
    "DARKCORR",
    "FLATCORR",
    "SHADCORR",
    "DOSATMAP",
    "DOPHOTOM",
    "OUTDTYPE",
    "MASKFILE",
    "ATODFILE",
    "BLEVFILE",
    "BLEVDFIL",
    "BIASFILE",
    "BIASDFIL",
    "DARKFILE",
    "DARKDFIL",
    "FLATFILE",
    "FLATDFIL",
    "SHADFILE",
    "PHOTTAB",
    "GRAPHTAB",
    "COMPTAB",
    "SATURATE",
    "USCALE",
    "UZERO",
    "READTIME",
    "PA_V3",
    "RA_SUN",
    "DEC_SUN",
    "EQNX_SUN",
    "MTFLAG",
    "EQRADTRG",
    "FLATNTRG",
    "NPDECTRG",
    "NPRATRG",
    "ROTRTTRG",
    "LONGPMER",
    "EPLONGPM",
    "SURFLATD",
    "SURFLONG",
    "SURFALTD",
    "PODPSFF",
    "STDCFFF",
    "STDCFFP",
    "RSDPFILL",
    "UEXPODUR",
    "NSHUTA17",
    "DARKTIME",
    "UEXPOTIM",
    "PSTRTIME",
    "PSTPTIME",
    "SUNANGLE",
    "MOONANGL",
    "SUN_ALT",
    "FGSLOCK",
    "DATE-OBS",
    "TIME-OBS",
    "EXPSTART",
    "EXPEND",
    "EXPTIME",
    "EXPFLAG",
    "TARGNAME",
    "RA_TARG",
    "DEC_TARG",
    "ECL_LONG",
    "ECL_LAT",
    "GAL_LONG",
    "GAL_LAT",
    "PROPOSID",
    "PEP_EXPO",
    "LINENUM",
    "SEQLINE",
    "SEQNAME",
    "SKYSUB1",
    "PYS_VERS",
    "IRAF_I",
    "STAC_I",
    "PYS_ITER",
    "PYS_HEXP",
    "SKYSUB2",
    "SKYSUB3",
    "SKYSUB4",
    "NCOMBINE",
    "HISTWIDE",
    "DOHISTOS"
  )

  val keysSampleWithExtensionPDU = List(
    "SIMPLE",
    "BITPIX",
    "NAXIS",
    "NAXIS1",
    "NAXIS2",
    "EXTEND",
    "OPSIZE",
    "ORIGIN",
    "FITSDATE",
    "FILENAME",
    "ODATTYPE",
    "SDASMGNU",
    "DADSFILE",
    "DADSCLAS",
    "DADSDATE",
    "CRVAL1",
    "CRPIX1",
    "CD1_1",
    "DATAMIN",
    "DATAMAX",
    "RA_APER",
    "DEC_APER",
    "FILLCNT",
    "ERRCNT",
    "PKTTIME",
    "CTYPE1",
    "OBSRPT",
    "OBSINT",
    "YDEF",
    "XDEF",
    "SAMPLE",
    "DELTAS",
    "LINE",
    "EXPOSURE",
    "BINID",
    "CARPOS",
    "ZSCOEF1",
    "ZSCOEF2",
    "ZSCOEF3",
    "ZSCOEF4",
    "INSTRUME",
    "ROOTNAME",
    "FILETYPE",
    "BUNIT",
    "NBINS",
    "NINIT",
    "RPTOBS",
    "INTOBS",
    "BINID1",
    "BINID2",
    "BINID3",
    "BINID4",
    "BINID5",
    "BINID6",
    "BINID7",
    "IXDEF1",
    "IXDEF2",
    "IXDEF3",
    "IXDEF4",
    "IXDEF5",
    "IYDEF1",
    "IYDEF2",
    "IYDEF3",
    "IYDEF4",
    "IYDEF5",
    "HOFF1",
    "HOFF2",
    "HOFF3",
    "HOFF4",
    "HOFF5",
    "HOFF6",
    "VOFF1",
    "VOFF2",
    "VOFF3",
    "VOFF4",
    "VOFF5",
    "VOFF6",
    "RPTCD1",
    "RPTCD2",
    "RPTCD3",
    "RPTCD4",
    "RPTCD5",
    "RPTCD6",
    "ZXDCALU",
    "ZXDCALP",
    "ZYDCALU",
    "ZYDCALP",
    "INFOB",
    "INFOC",
    "SCIDMP",
    "MAXGSS",
    "MERGED",
    "STEPPATT",
    "STEPTIME",
    "FP_SPLIT",
    "COMB_ADD",
    "FINCODE",
    "DOPPLER",
    "METER",
    "OBSMODE",
    "DETECTOR",
    "GRATING",
    "APERTURE",
    "DIOHFILE",
    "PHCHFILE",
    "VIGHFILE",
    "ABSHFILE",
    "NETHFILE",
    "DQIHFILE",
    "CCR1",
    "CCR2",
    "CCR3",
    "CCR4",
    "CCR5",
    "CCR6",
    "CCR7",
    "CCR8",
    "CCR9",
    "CCRA",
    "CCRB",
    "CCG2",
    "DQI_CORR",
    "EXP_CORR",
    "DIO_CORR",
    "PPC_CORR",
    "MAP_CORR",
    "DOP_CORR",
    "PHC_CORR",
    "VIG_CORR",
    "MER_CORR",
    "MDF_CORR",
    "MNF_CORR",
    "PLY_CORR",
    "BCK_CORR",
    "ADC_CORR",
    "IAC_CORR",
    "ECH_CORR",
    "FLX_CORR",
    "HEL_CORR",
    "VAC_CORR",
    "DOPZER",
    "DOPMAG",
    "SCLAMP",
    "ZLCOEF1",
    "ZLCOEF2",
    "SPORDER",
    "MINWAVE",
    "MAXWAVE",
    "DATE",
    "PODPSFF",
    "STDCFFF",
    "STDCFFP",
    "PKTFMT",
    "ZFSPYBF",
    "ZFXMAPC",
    "ZFYMAPC",
    "ZDEBTF",
    "ZDEBTR",
    "ZDETT1",
    "ZDETT2",
    "ZDRT",
    "ZDT11",
    "ZDT12",
    "ZET11",
    "ZET31",
    "ZFIAT",
    "ZFIBT",
    "ZFICT",
    "ZHDC1",
    "ZHDC2",
    "ZHVPST1",
    "ZHVPST2",
    "ZMEBT1",
    "ZMEBT2",
    "ZOBBT",
    "ZOBT11",
    "ZPABT1",
    "ZPABT2",
    "ZPCC1",
    "ZPCC2",
    "ZPCV1",
    "ZPCV2",
    "ZRIUTA",
    "ZRIUTB",
    "ZSCT1",
    "ZSCT2",
    "ZTST11",
    "ZCST",
    "ZSPYBLU",
    "RA_APER1",
    "DECAPER1",
    "EQUINOX",
    "SUNANGLE",
    "MOONANGL",
    "SUN_ALT",
    "FGSLOCK",
    "DATE-OBS",
    "TIME-OBS",
    "EXPSTART",
    "EXPEND",
    "EXPTIME",
    "EXPFLAG",
    "TARGNAME",
    "RA_TARG",
    "DEC_TARG",
    "PEQUINOX",
    "PROPOSID",
    "PEP_EXPO",
    "LINENUM",
    "SEQLINE",
    "SEQNAME"
  )

  val keysSampleWithExtensionExt1 = List(
    "XTENSION",
    "BITPIX",
    "NAXIS",
    "NAXIS1",
    "NAXIS2",
    "PCOUNT",
    "GCOUNT",
    "TFIELDS",
    "EXTNAME",
    "TTYPE1",
    "CRVAL1",
    "TFORM1",
    "TBCOL1",
    "TTYPE2",
    "CRPIX1",
    "TFORM2",
    "TBCOL2",
    "TTYPE3",
    "CD1_1",
    "TFORM3",
    "TBCOL3",
    "TTYPE4",
    "DATAMIN",
    "TFORM4",
    "TBCOL4",
    "TTYPE5",
    "DATAMAX",
    "TFORM5",
    "TBCOL5",
    "TTYPE6",
    "RA_APER",
    "TFORM6",
    "TBCOL6",
    "TTYPE7",
    "DEC_APER",
    "TFORM7",
    "TBCOL7",
    "TTYPE8",
    "FILLCNT",
    "TFORM8",
    "TBCOL8",
    "TTYPE9",
    "ERRCNT",
    "TFORM9",
    "TBCOL9",
    "TTYPE10",
    "PKTTIME",
    "TFORM10",
    "TBCOL10",
    "TTYPE11",
    "CTYPE1",
    "TFORM11",
    "TBCOL11",
    "TTYPE12",
    "OBSRPT",
    "TFORM12",
    "TBCOL12",
    "TTYPE13",
    "OBSINT",
    "TFORM13",
    "TBCOL13",
    "TTYPE14",
    "YDEF",
    "TFORM14",
    "TBCOL14",
    "TTYPE15",
    "XDEF",
    "TFORM15",
    "TBCOL15",
    "TTYPE16",
    "SAMPLE",
    "TFORM16",
    "TBCOL16",
    "TTYPE17",
    "DELTAS",
    "TFORM17",
    "TBCOL17",
    "TTYPE18",
    "LINE",
    "TFORM18",
    "TBCOL18",
    "TTYPE19",
    "EXPOSURE",
    "TFORM19",
    "TBCOL19",
    "TTYPE20",
    "BINID",
    "TFORM20",
    "TBCOL20",
    "TTYPE21",
    "CARPOS",
    "TFORM21",
    "TBCOL21",
    "TTYPE22",
    "ZSCOEF1",
    "TFORM22",
    "TBCOL22",
    "TTYPE23",
    "ZSCOEF2",
    "TFORM23",
    "TBCOL23",
    "TTYPE24",
    "ZSCOEF3",
    "TFORM24",
    "TBCOL24",
    "TTYPE25",
    "ZSCOEF4",
    "TFORM25",
    "TBCOL25")

  val keysSampleWith2ExtPDU = List (
    "SIMPLE",
    "BITPIX",
    "NAXIS",
    "NAXIS1",
    "NAXIS2",
    "EXTEND",
    "ITIME1",
    "TRUITIME",
    "COADDS1",
    "SAMPMOD1",
    "READS1",
    "RMPRESET",
    "RMPREADS",
    "RMPDROP",
    "RMPGROUP",
    "IGNORDRD",
    "READTIME",
    "DETSTRTX",
    "DETSTRTY",
    "DETENDX",
    "DETENDY",
    "ABORTLVL",
    "ABTREADS",
    "ABTCOADD")

  val keysSampleWith2ExtExt1 = List (
    "XTENSION",
    "BITPIX",
    "NAXIS",
    "NAXIS1",
    "NAXIS2",
    "PCOUNT",
    "GCOUNT")

  val keysSampleWith2ExtExt2 = List (
    "XTENSION",
    "BITPIX",
    "NAXIS",
    "NAXIS1",
    "NAXIS2",
    "PCOUNT",
    "GCOUNT")

  val keysGPISample1PDU = List (
    "SIMPLE",
    "BITPIX",
    "NAXIS",
    "NAXIS1",
    "NAXIS2",
    "LONGSTRN",
    "EXTEND",
    "DATE-OBS",
    "TIME-OBS",
    "TIME-END",
    "ITIME0",
    "COADDS0",
    "SMPMODE0",
    "READS0",
    "STARTX",
    "ENDX",
    "STARTY",
    "ENDY",
    "TRUITIME",
    "READTIME",
    "RMPRESET",
    "RMPREADS",
    "RMPDROP",
    "RMPGROUP",
    "RDITIME",
    "ABORTED",
    "COADDONE",
    "READDONE",
    "GRPSDONE",
    "IGNORDRD",
    "VRPSTYPE",
    "HRPSTYPE",
    "SATURATE",
    "DTGAINNM",
    "DTGAINDB",
    "DETGAIN",
    "SYSGAIN",
    "VRESET",
    "DSUB",
    "VBIASGAT",
    "VBIASPWR",
    "CELLDRAN",
    "DRAIN",
    "VDDA",
    "VDD",
    "VREFMAIN",
    "VPREMDRF",
    "VPRAMRF1",
    "HXRGCFG1",
    "HXRGCFG2",
    "HXRGVERS")

  val keysGPISample2PDU = List (
    "SIMPLE",
    "BITPIX",
    "NAXIS",
    "NAXIS1",
    "NAXIS2",
    "LONGSTRN",
    "EXTEND",
    "DATE-OBS",
    "TIME-OBS",
    "TIME-END",
    "ITIME0",
    "COADDS0",
    "SMPMODE0",
    "READS0",
    "STARTX",
    "ENDX",
    "STARTY",
    "ENDY",
    "TRUITIME",
    "READTIME",
    "RMPRESET",
    "RMPREADS",
    "RMPDROP",
    "RMPGROUP",
    "RDITIME",
    "ABORTED",
    "COADDONE",
    "READDONE",
    "GRPSDONE",
    "IGNORDRD",
    "VRPSTYPE",
    "HRPSTYPE",
    "SATURATE",
    "DTGAINNM",
    "DTGAINDB",
    "DETGAIN",
    "SYSGAIN",
    "VRESET",
    "DSUB",
    "VBIASGAT",
    "VBIASPWR",
    "CELLDRAN",
    "DRAIN",
    "VDDA",
    "VDD",
    "VREFMAIN",
    "VPREMDRF",
    "VPRAMRF1",
    "HXRGCFG1",
    "HXRGCFG2",
    "HXRGVERS")

  val keysGPISample2Ext1 = List (
    "XTENSION",
    "BITPIX",
    "NAXIS",
    "NAXIS1",
    "NAXIS2",
    "PCOUNT",
    "GCOUNT",
    "LONGSTRN"
  )
}